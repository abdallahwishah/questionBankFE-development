<div [@routerTransition]>
    <div class="container-fluid px-5 mt-md-0 mt-5">
        <h2 class="fs-3 fw-medium justify-content-center mb-4 page-heading text-dark">{{ l('SessionsScreen') }}</h2>
        <div class="d-flex justify-content-between">
            <div class="d-flex gap-2">
                <p class="gray">{{ l('NumberOfSessions') }}:</p>
                <span class="text-dark">{{ primengTableHelper.totalRecordsCount }}</span>
            </div>

            <div class="d-flex gap-3">
                <button class="btn btn-primary d-flex gap-2" (click)="AddSession()">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M6.66663 10.625C6.32496 10.625 6.04163 10.3417 6.04163 10C6.04163 9.65833 6.32496 9.375 6.66663 9.375H13.3333C13.675 9.375 13.9583 9.65833 13.9583 10C13.9583 10.3417 13.675 10.625 13.3333 10.625H6.66663Z"
                            fill="white"
                        />
                        <path
                            d="M9.375 13.3334V6.66669C9.375 6.32502 9.65833 6.04169 10 6.04169C10.3417 6.04169 10.625 6.32502 10.625 6.66669V13.3334C10.625 13.675 10.3417 13.9584 10 13.9584C9.65833 13.9584 9.375 13.675 9.375 13.3334Z"
                            fill="white"
                        />
                        <path
                            fill-rule="evenodd"
                            clip-rule="evenodd"
                            d="M7.49996 18.9584C2.97496 18.9584 1.04163 17.025 1.04163 12.5V7.50002C1.04163 2.97502 2.97496 1.04169 7.49996 1.04169H12.5C17.025 1.04169 18.9583 2.97502 18.9583 7.50002V12.5C18.9583 17.025 17.025 18.9584 12.5 18.9584H7.49996ZM2.29163 7.50002V12.5C2.29163 16.3417 3.65829 17.7084 7.49996 17.7084H12.5C16.3416 17.7084 17.7083 16.3417 17.7083 12.5V7.50002C17.7083 3.65835 16.3416 2.29169 12.5 2.29169H7.49996C3.65829 2.29169 2.29163 3.65835 2.29163 7.50002Z"
                            fill="white"
                        />
                    </svg>

                    <span class="d-none d-md-inline-block">
                        {{ l('AddSession') }}
                    </span>
                </button>

              <!--   <button class="btn btn-outline d-flex gap-2">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M7.2838 18.5412C3.19214 18.5412 1.44214 16.7912 1.44214 12.6996V12.5912C1.44214 8.89124 2.90047 7.10791 6.16714 6.79957C6.50047 6.77457 6.81714 7.02457 6.85047 7.36624C6.88381 7.70791 6.63381 8.01624 6.28381 8.04957C3.66714 8.29124 2.69214 9.52457 2.69214 12.5996V12.7079C2.69214 16.0996 3.89214 17.2996 7.2838 17.2996H12.7171C16.1088 17.2996 17.3088 16.0996 17.3088 12.7079V12.5996C17.3088 9.50791 16.3171 8.27457 13.6505 8.04957C13.3088 8.01624 13.0505 7.71624 13.0838 7.37457C13.1171 7.03291 13.4088 6.77457 13.7588 6.80791C17.0755 7.09124 18.5588 8.88291 18.5588 12.6079V12.7162C18.5588 16.7912 16.8088 18.5412 12.7171 18.5412H7.2838Z"
                            fill="#171A1F"
                        />
                        <path
                            d="M9.375 12.4999V3.0166C9.375 2.67493 9.65833 2.3916 10 2.3916C10.3417 2.3916 10.625 2.67493 10.625 3.0166V12.4999C10.625 12.8416 10.3417 13.1249 10 13.1249C9.65833 13.1249 9.375 12.8416 9.375 12.4999Z"
                            fill="#171A1F"
                        />
                        <path
                            d="M12.3498 5.31621L9.99979 2.96621L7.64979 5.31621C7.40812 5.55788 7.00812 5.55788 6.76646 5.31621C6.52479 5.07454 6.52479 4.67454 6.76646 4.43288L9.55812 1.64121C9.79979 1.39954 10.1998 1.39954 10.4415 1.64121L13.2331 4.43288C13.4748 4.67454 13.4748 5.07454 13.2331 5.31621C13.1165 5.44121 12.9498 5.49954 12.7915 5.49954C12.6331 5.49954 12.4748 5.44121 12.3498 5.31621Z"
                            fill="#171A1F"
                        />
                    </svg>

                    {{ l('ExportSessions') }}
                </button> -->
            </div>
        </div>

        <!-- Filter & Search  -->
        <div class="row justify-content-between switch-serch-bar mt-9">
            <div class="col-md-4">
                <div class="input-group search-group">
                    <input
                        name="filterText"
                        class="form-control m-input"
                        [placeholder]="l('Search')"
                        type="text"
                        [(ngModel)]="filter"
                        (ngModelChange)="getList()"
                    />
                    <button class="btn btn-primary" type="submit">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                d="M18.9584 9.58317C18.9584 4.87484 15.125 1.0415 10.4167 1.0415C5.70837 1.0415 1.87504 4.87484 1.87504 9.58317C1.87504 14.2915 5.70837 18.1248 10.4167 18.1248C15.125 18.1248 18.9584 14.2915 18.9584 9.58317ZM17.7084 9.58317C17.7084 13.5998 14.4417 16.8748 10.4167 16.8748C6.39171 16.8748 3.12504 13.5998 3.12504 9.58317C3.12504 5.5665 6.39171 2.2915 10.4167 2.2915C14.4417 2.2915 17.7084 5.5665 17.7084 9.58317Z"
                                fill="#6D31ED"
                            />
                            <path
                                d="M2.10802 18.7752L3.77468 17.1085C4.01635 16.8669 4.01635 16.4669 3.77468 16.2252C3.53302 15.9835 3.13301 15.9835 2.89135 16.2252L1.22468 17.8919C0.983015 18.1335 0.983015 18.5335 1.22468 18.7752C1.34968 18.9002 1.50802 18.9585 1.66635 18.9585C1.82468 18.9585 1.98302 18.9002 2.10802 18.7752Z"
                                fill="#6D31ED"
                            />
                        </svg>
                    </button>
                </div>
            </div>

            <div class="col-md-3 d-grid justify-content-end gap-5" style="grid-template-columns: 1fr auto">
                <app-dropdown-field
                    [placeholder]="'Status'"
                    optionLabel="name"
                    optionValue="id"
                    [options]="sessionStatus"
                    [(ngModel)]="isStatusFilter"
                    (onClear)="cleaerStatusFilter()"
                    (ngModelChange)="getList()"
                ></app-dropdown-field>
                <app-filters>
                    <ng-container filterBody>
                        <div class="row">
                            <div class="col-12 mb-5">
                                <app-auto-complete-feild
                                    [label]="l('StudyLevel')"
                                    field="studyLevel.name"
                                    [(ngModel)]="studyLevel"
                                    name="StudyLevelId"
                                    [ConfigCustomSearch]="{
                                        api: '/api/services/app/StudyLevels/GetAll',
                                        keySearch: 'filter',
                                        customParams: {
                                            Sorting: '',
                                            SkipCount: 0,
                                            MaxResultCount: 10
                                        }
                                    }"
                                ></app-auto-complete-feild>
                            </div>
                            <div class="col-12 mb-5">
                                <app-auto-complete-feild
                                    [label]="l('StudySubject')"
                                    field="studySubject.name"
                                    [(ngModel)]="studySubject"
                                    name="studySubjectId"
                                    [ConfigCustomSearch]="{
                                        api: '/api/services/app/StudySubjects/GetAll',
                                        keySearch: 'filter',
                                        customParams: {
                                            Sorting: '',
                                            SkipCount: 0,
                                            MaxResultCount: 10,
                                            StudyLeveldsFilter: studyLevelIds
                                        }
                                    }"
                                ></app-auto-complete-feild>
                            </div>
                            <div class="col-md-12">
                                <label class="col-form-label required">{{ l('FromDate') }}</label>
                                <div class="input-normal-form-calendar">
                                    <p-calendar appendTo="body" class="w-100" [(ngModel)]="fromDate"></p-calendar>
                                    <svg
                                        width="26"
                                        id="Icons_Calendar"
                                        height="20"
                                        viewBox="0 0 26 20"
                                        fill="none"
                                        xmlns="http://www.w3.org/2000/svg"
                                    >
                                        <path
                                            d="M6.04166 4.16699V1.66699C6.04166 1.32533 6.32499 1.04199 6.66666 1.04199C7.00832 1.04199 7.29166 1.32533 7.29166 1.66699V4.16699C7.29166 4.50866 7.00832 4.79199 6.66666 4.79199C6.32499 4.79199 6.04166 4.50866 6.04166 4.16699Z"
                                            fill="#3F4254"
                                        />
                                        <path
                                            d="M12.7083 4.16699V1.66699C12.7083 1.32533 12.9917 1.04199 13.3333 1.04199C13.675 1.04199 13.9583 1.32533 13.9583 1.66699V4.16699C13.9583 4.50866 13.675 4.79199 13.3333 4.79199C12.9917 4.79199 12.7083 4.50866 12.7083 4.16699Z"
                                            fill="#3F4254"
                                        />
                                        <path
                                            d="M6.76667 12.0163C6.65833 11.9746 6.575 11.9163 6.49167 11.8413C6.34167 11.6829 6.25 11.4746 6.25 11.2496C6.25 11.1413 6.275 11.0329 6.31667 10.9329C6.35833 10.8329 6.41667 10.7413 6.49167 10.6579C6.575 10.5829 6.65833 10.5246 6.76667 10.4829C7.06667 10.3579 7.44167 10.4246 7.675 10.6579C7.825 10.8163 7.91667 11.0329 7.91667 11.2496C7.91667 11.2996 7.90833 11.358 7.9 11.4163C7.89167 11.4663 7.875 11.5163 7.85 11.5663C7.83333 11.6163 7.80833 11.6663 7.775 11.7163C7.75 11.7579 7.70833 11.7996 7.675 11.8413C7.51667 11.9913 7.3 12.0829 7.08333 12.0829C6.975 12.0829 6.86667 12.058 6.76667 12.0163Z"
                                            fill="#3F4254"
                                        />
                                        <path
                                            d="M9.68332 12.0171C9.57499 11.9754 9.49166 11.917 9.40832 11.842C9.25832 11.6837 9.16666 11.4754 9.16666 11.2504C9.16666 11.142 9.19166 11.0337 9.23332 10.9337C9.27499 10.8337 9.33332 10.7421 9.40832 10.6587C9.49166 10.5837 9.57499 10.5254 9.68332 10.4837C9.98332 10.3504 10.3583 10.4254 10.5917 10.6587C10.7417 10.8171 10.8333 11.0337 10.8333 11.2504C10.8333 11.3004 10.825 11.3587 10.8167 11.4171C10.8083 11.4671 10.7917 11.5171 10.7667 11.5671C10.75 11.6171 10.725 11.667 10.6917 11.717C10.6667 11.7587 10.625 11.8004 10.5917 11.842C10.4333 11.992 10.2167 12.0837 9.99999 12.0837C9.89166 12.0837 9.78332 12.0587 9.68332 12.0171Z"
                                            fill="#3F4254"
                                        />
                                        <path
                                            d="M12.6 12.0171C12.4917 11.9754 12.4083 11.917 12.325 11.842C12.2917 11.8004 12.2583 11.7587 12.225 11.717C12.1917 11.667 12.1667 11.6171 12.15 11.5671C12.125 11.5171 12.1083 11.4671 12.1 11.4171C12.0917 11.3587 12.0833 11.3004 12.0833 11.2504C12.0833 11.0337 12.175 10.8171 12.325 10.6587C12.4083 10.5837 12.4917 10.5254 12.6 10.4837C12.9083 10.3504 13.275 10.4254 13.5083 10.6587C13.6583 10.8171 13.75 11.0337 13.75 11.2504C13.75 11.3004 13.7417 11.3587 13.7333 11.4171C13.725 11.4671 13.7083 11.5171 13.6833 11.5671C13.6667 11.6171 13.6417 11.667 13.6083 11.717C13.5833 11.7587 13.5417 11.8004 13.5083 11.842C13.35 11.992 13.1333 12.0837 12.9167 12.0837C12.8083 12.0837 12.7 12.0587 12.6 12.0171Z"
                                            fill="#3F4254"
                                        />
                                        <path
                                            d="M6.76667 14.9333C6.66667 14.8917 6.575 14.8333 6.49167 14.7583C6.34167 14.6 6.25 14.3833 6.25 14.1667C6.25 14.0583 6.275 13.95 6.31667 13.85C6.35833 13.7417 6.41667 13.65 6.49167 13.575C6.8 13.2667 7.36667 13.2667 7.675 13.575C7.825 13.7333 7.91667 13.95 7.91667 14.1667C7.91667 14.3833 7.825 14.6 7.675 14.7583C7.51667 14.9083 7.3 15 7.08333 15C6.975 15 6.86667 14.975 6.76667 14.9333Z"
                                            fill="#3F4254"
                                        />
                                        <path
                                            d="M9.40832 14.7583C9.25832 14.6 9.16666 14.3833 9.16666 14.1667C9.16666 14.0583 9.19166 13.95 9.23332 13.85C9.27499 13.7417 9.33332 13.65 9.40832 13.575C9.71666 13.2667 10.2833 13.2667 10.5917 13.575C10.6667 13.65 10.725 13.7417 10.7667 13.85C10.8083 13.95 10.8333 14.0583 10.8333 14.1667C10.8333 14.3833 10.7417 14.6 10.5917 14.7583C10.4333 14.9083 10.2167 15 9.99999 15C9.78332 15 9.56666 14.9083 9.40832 14.7583Z"
                                            fill="#3F4254"
                                        />
                                        <path
                                            d="M12.325 14.7578C12.25 14.6828 12.1917 14.5911 12.15 14.4828C12.1083 14.3828 12.0833 14.2744 12.0833 14.1661C12.0833 14.0578 12.1083 13.9494 12.15 13.8494C12.1917 13.7411 12.25 13.6494 12.325 13.5744C12.5167 13.3828 12.8083 13.2911 13.075 13.3494C13.1333 13.3578 13.1833 13.3744 13.2333 13.3994C13.2833 13.4161 13.3333 13.4411 13.3833 13.4745C13.425 13.4995 13.4667 13.5411 13.5083 13.5744C13.6583 13.7328 13.75 13.9494 13.75 14.1661C13.75 14.3828 13.6583 14.5994 13.5083 14.7578C13.35 14.9078 13.1333 14.9994 12.9167 14.9994C12.7 14.9994 12.4833 14.9078 12.325 14.7578Z"
                                            fill="#3F4254"
                                        />
                                        <path
                                            d="M2.91666 8.2002C2.57499 8.2002 2.29166 7.91686 2.29166 7.5752C2.29166 7.23353 2.57499 6.9502 2.91666 6.9502H17.0833C17.425 6.9502 17.7083 7.23353 17.7083 7.5752C17.7083 7.91686 17.425 8.2002 17.0833 8.2002H2.91666Z"
                                            fill="#3F4254"
                                        />
                                        <path
                                            fill-rule="evenodd"
                                            clip-rule="evenodd"
                                            d="M6.66667 18.9587C3.625 18.9587 1.875 17.2087 1.875 14.167V7.08366C1.875 4.04199 3.625 2.29199 6.66667 2.29199H13.3333C16.375 2.29199 18.125 4.04199 18.125 7.08366V14.167C18.125 17.2087 16.375 18.9587 13.3333 18.9587H6.66667ZM3.125 7.08366V14.167C3.125 16.5503 4.28333 17.7087 6.66667 17.7087H13.3333C15.7167 17.7087 16.875 16.5503 16.875 14.167V7.08366C16.875 4.70033 15.7167 3.54199 13.3333 3.54199H6.66667C4.28333 3.54199 3.125 4.70033 3.125 7.08366Z"
                                            fill="#3F4254"
                                        />
                                        <path d="M25 2.5V17.5" stroke="#EFEFEF" stroke-linecap="round" />
                                    </svg>
                                </div>
                            </div>
                            <div class="col-md-12 mb-3">
                                <label class="col-form-label required">{{ l('ToDate') }}</label>
                                <div class="input-normal-form-calendar">
                                    <p-calendar appendTo="body" class="w-100" [(ngModel)]="toDate"></p-calendar>
                                    <svg
                                        width="26"
                                        id="Icons_Calendar"
                                        height="20"
                                        viewBox="0 0 26 20"
                                        fill="none"
                                        xmlns="http://www.w3.org/2000/svg"
                                    >
                                        <path
                                            d="M6.04166 4.16699V1.66699C6.04166 1.32533 6.32499 1.04199 6.66666 1.04199C7.00832 1.04199 7.29166 1.32533 7.29166 1.66699V4.16699C7.29166 4.50866 7.00832 4.79199 6.66666 4.79199C6.32499 4.79199 6.04166 4.50866 6.04166 4.16699Z"
                                            fill="#3F4254"
                                        />
                                        <path
                                            d="M12.7083 4.16699V1.66699C12.7083 1.32533 12.9917 1.04199 13.3333 1.04199C13.675 1.04199 13.9583 1.32533 13.9583 1.66699V4.16699C13.9583 4.50866 13.675 4.79199 13.3333 4.79199C12.9917 4.79199 12.7083 4.50866 12.7083 4.16699Z"
                                            fill="#3F4254"
                                        />
                                        <path
                                            d="M6.76667 12.0163C6.65833 11.9746 6.575 11.9163 6.49167 11.8413C6.34167 11.6829 6.25 11.4746 6.25 11.2496C6.25 11.1413 6.275 11.0329 6.31667 10.9329C6.35833 10.8329 6.41667 10.7413 6.49167 10.6579C6.575 10.5829 6.65833 10.5246 6.76667 10.4829C7.06667 10.3579 7.44167 10.4246 7.675 10.6579C7.825 10.8163 7.91667 11.0329 7.91667 11.2496C7.91667 11.2996 7.90833 11.358 7.9 11.4163C7.89167 11.4663 7.875 11.5163 7.85 11.5663C7.83333 11.6163 7.80833 11.6663 7.775 11.7163C7.75 11.7579 7.70833 11.7996 7.675 11.8413C7.51667 11.9913 7.3 12.0829 7.08333 12.0829C6.975 12.0829 6.86667 12.058 6.76667 12.0163Z"
                                            fill="#3F4254"
                                        />
                                        <path
                                            d="M9.68332 12.0171C9.57499 11.9754 9.49166 11.917 9.40832 11.842C9.25832 11.6837 9.16666 11.4754 9.16666 11.2504C9.16666 11.142 9.19166 11.0337 9.23332 10.9337C9.27499 10.8337 9.33332 10.7421 9.40832 10.6587C9.49166 10.5837 9.57499 10.5254 9.68332 10.4837C9.98332 10.3504 10.3583 10.4254 10.5917 10.6587C10.7417 10.8171 10.8333 11.0337 10.8333 11.2504C10.8333 11.3004 10.825 11.3587 10.8167 11.4171C10.8083 11.4671 10.7917 11.5171 10.7667 11.5671C10.75 11.6171 10.725 11.667 10.6917 11.717C10.6667 11.7587 10.625 11.8004 10.5917 11.842C10.4333 11.992 10.2167 12.0837 9.99999 12.0837C9.89166 12.0837 9.78332 12.0587 9.68332 12.0171Z"
                                            fill="#3F4254"
                                        />
                                        <path
                                            d="M12.6 12.0171C12.4917 11.9754 12.4083 11.917 12.325 11.842C12.2917 11.8004 12.2583 11.7587 12.225 11.717C12.1917 11.667 12.1667 11.6171 12.15 11.5671C12.125 11.5171 12.1083 11.4671 12.1 11.4171C12.0917 11.3587 12.0833 11.3004 12.0833 11.2504C12.0833 11.0337 12.175 10.8171 12.325 10.6587C12.4083 10.5837 12.4917 10.5254 12.6 10.4837C12.9083 10.3504 13.275 10.4254 13.5083 10.6587C13.6583 10.8171 13.75 11.0337 13.75 11.2504C13.75 11.3004 13.7417 11.3587 13.7333 11.4171C13.725 11.4671 13.7083 11.5171 13.6833 11.5671C13.6667 11.6171 13.6417 11.667 13.6083 11.717C13.5833 11.7587 13.5417 11.8004 13.5083 11.842C13.35 11.992 13.1333 12.0837 12.9167 12.0837C12.8083 12.0837 12.7 12.0587 12.6 12.0171Z"
                                            fill="#3F4254"
                                        />
                                        <path
                                            d="M6.76667 14.9333C6.66667 14.8917 6.575 14.8333 6.49167 14.7583C6.34167 14.6 6.25 14.3833 6.25 14.1667C6.25 14.0583 6.275 13.95 6.31667 13.85C6.35833 13.7417 6.41667 13.65 6.49167 13.575C6.8 13.2667 7.36667 13.2667 7.675 13.575C7.825 13.7333 7.91667 13.95 7.91667 14.1667C7.91667 14.3833 7.825 14.6 7.675 14.7583C7.51667 14.9083 7.3 15 7.08333 15C6.975 15 6.86667 14.975 6.76667 14.9333Z"
                                            fill="#3F4254"
                                        />
                                        <path
                                            d="M9.40832 14.7583C9.25832 14.6 9.16666 14.3833 9.16666 14.1667C9.16666 14.0583 9.19166 13.95 9.23332 13.85C9.27499 13.7417 9.33332 13.65 9.40832 13.575C9.71666 13.2667 10.2833 13.2667 10.5917 13.575C10.6667 13.65 10.725 13.7417 10.7667 13.85C10.8083 13.95 10.8333 14.0583 10.8333 14.1667C10.8333 14.3833 10.7417 14.6 10.5917 14.7583C10.4333 14.9083 10.2167 15 9.99999 15C9.78332 15 9.56666 14.9083 9.40832 14.7583Z"
                                            fill="#3F4254"
                                        />
                                        <path
                                            d="M12.325 14.7578C12.25 14.6828 12.1917 14.5911 12.15 14.4828C12.1083 14.3828 12.0833 14.2744 12.0833 14.1661C12.0833 14.0578 12.1083 13.9494 12.15 13.8494C12.1917 13.7411 12.25 13.6494 12.325 13.5744C12.5167 13.3828 12.8083 13.2911 13.075 13.3494C13.1333 13.3578 13.1833 13.3744 13.2333 13.3994C13.2833 13.4161 13.3333 13.4411 13.3833 13.4745C13.425 13.4995 13.4667 13.5411 13.5083 13.5744C13.6583 13.7328 13.75 13.9494 13.75 14.1661C13.75 14.3828 13.6583 14.5994 13.5083 14.7578C13.35 14.9078 13.1333 14.9994 12.9167 14.9994C12.7 14.9994 12.4833 14.9078 12.325 14.7578Z"
                                            fill="#3F4254"
                                        />
                                        <path
                                            d="M2.91666 8.2002C2.57499 8.2002 2.29166 7.91686 2.29166 7.5752C2.29166 7.23353 2.57499 6.9502 2.91666 6.9502H17.0833C17.425 6.9502 17.7083 7.23353 17.7083 7.5752C17.7083 7.91686 17.425 8.2002 17.0833 8.2002H2.91666Z"
                                            fill="#3F4254"
                                        />
                                        <path
                                            fill-rule="evenodd"
                                            clip-rule="evenodd"
                                            d="M6.66667 18.9587C3.625 18.9587 1.875 17.2087 1.875 14.167V7.08366C1.875 4.04199 3.625 2.29199 6.66667 2.29199H13.3333C16.375 2.29199 18.125 4.04199 18.125 7.08366V14.167C18.125 17.2087 16.375 18.9587 13.3333 18.9587H6.66667ZM3.125 7.08366V14.167C3.125 16.5503 4.28333 17.7087 6.66667 17.7087H13.3333C15.7167 17.7087 16.875 16.5503 16.875 14.167V7.08366C16.875 4.70033 15.7167 3.54199 13.3333 3.54199H6.66667C4.28333 3.54199 3.125 4.70033 3.125 7.08366Z"
                                            fill="#3F4254"
                                        />
                                        <path d="M25 2.5V17.5" stroke="#EFEFEF" stroke-linecap="round" />
                                    </svg>
                                </div>
                            </div>
                        </div>
                        <div class="d-flex justify-content-between mt-4">
                            <button class="btn btn-primary" (click)="getList(); closeFilters()">
                                {{ 'SearchFilters' | localize }}
                            </button>
                            <button class="btn btn-outline" (click)="clearFilter()">
                                {{ 'ResetFilters' | localize }}
                            </button>
                        </div>
                    </ng-container>
                </app-filters>
            </div>
        </div>

        <!-- Start Tabel -->
        <div class="primeng-datatable-container p-0 col-12 mt-6">
            <p-table
                #dataTable
                [value]="primengTableHelper.records"
                (onLazyLoad)="getList($event)"
                rows="{{ primengTableHelper.defaultRecordsCountPerPage }}"
                [paginator]="false"
                [loading]="primengTableHelper.isLoading"
                [lazy]="true"
                [scrollable]="true"
                ScrollWidth="100%"
                [resizableColumns]="primengTableHelper.resizableColumns"
            >
                <ng-template pTemplate="header">
                    <tr>
                        <th pSortableColumn="caseCode">
                            {{ '#' }}
                        </th>
                        <th pSortableColumn="SessionName">
                            {{ l('SessionName') }}
                            <p-sortIcon field="SessionName"></p-sortIcon>
                        </th>
                        <th pSortableColumn="studyLevel">
                            {{ l('StudyLevel') }}
                            <p-sortIcon field="studyLevel"></p-sortIcon>
                        </th>
                        <th pSortableColumn="studySubject">
                            {{ l('StudySubject') }}
                            <p-sortIcon field="studySubject"></p-sortIcon>
                        </th>

                        <th pSortableColumn="">
                            {{ l('NumberOfSchools') }}
                            <p-sortIcon field=""></p-sortIcon>
                        </th>
                        <th pSortableColumn="StartDate">
                            {{ l('StartDate') }}
                            <p-sortIcon field="StartDate"></p-sortIcon>
                        </th>
                        <th pSortableColumn="EndDate">
                            {{ l('EndDate') }}
                            <p-sortIcon field="EndDate"></p-sortIcon>
                        </th>
                        <th pSortableColumn="Status">
                            {{ l('Status') }}
                            <p-sortIcon field="Status"></p-sortIcon>
                        </th>
                        <th>
                            {{ l('Actions') }}
                        </th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-record="$implicit" let-i="rowIndex">
                    <tr>
                        <td>
                            {{ skipCount + i + 1 }}
                        </td>
                        <td>
                            <span class="p-column-title">{{ l('name') }}</span>
                            {{ record.session.name || '-' }}
                        </td>
                        <td>
                            <span
                                [pTooltip]="record.studyLevel"
                                [tooltipOptions]="{
                                    tooltipPosition: 'right'
                                }"
                                [positionStyle]="{ width: '400px' }"
                            >
                                {{ record.studyLevel | safeText: 80 }}
                            </span>
                        </td>
                        <td>
                            {{ record.studySubject || '-' }}
                        </td>
                        <td>
                            <span class="p-column-title">{{ l('NumberOfSchools') }}</span>
                            {{ record.numberOfSchools }}
                        </td>

                        <td>
                            <span class="p-column-title">{{ l('startDate') }}</span>
                            {{ (record.session.startDate | luxonFormat: 'dd/MM/yyyy hh:mm a') || '-' }}
                        </td>
                        <td>
                            <span class="p-column-title">{{ l('endDate') }}</span>
                            {{ (record.session.endDate | luxonFormat: 'dd/MM/yyyy hh:mm a') || '-' }}
                        </td>
                        <td>
                            <span class="p-column-title">{{ l('StudyLevel') }}</span>
                            @if (record?.session?.status === sessionStatusEnum.Active) {
                                <span class="status-grean">
                                    {{ l('Active') }}
                                </span>
                            } @else if (record?.session?.status === sessionStatusEnum.Finished) {
                                <span class="status-grean">{{ l('Finished') }}</span>
                            } @else if (record?.session?.status === sessionStatusEnum.InCreation) {
                                <span class="status-info">{{ l('InCreation') }}</span>
                            } @else if (record?.session?.status === sessionStatusEnum.Invalid) {
                                <span class="status-read">{{ l('Invalid') }}</span>
                            } @else if (record?.session?.status === sessionStatusEnum.NotStarted) {
                                <span class="status-notStarted">{{ l('NotStarted') }}</span>
                            } @else if (record?.session?.status === sessionStatusEnum.Suspended) {
                                <span class="status-suspended">{{ l('Suspended') }}</span>
                            }
                        </td>
                        <td>
                            <app-action-button
                                [ActionsInfo]="[
                                    {
                                        label: 'ViewSchools',
                                        hasCondition: record?.session?.status != sessionStatusEnum.InCreation
                                    },
                                    {
                                        label: 'Edit',
                                        hasCondition:
                                            record?.session?.status != sessionStatusEnum.InCreation &&
                                            record?.session?.status != sessionStatusEnum.Active &&
                                            record?.session?.status != sessionStatusEnum.Finished
                                    },
                                    {
                                        label: 'Delete',
                                        hasCondition: record?.session?.status != sessionStatusEnum.Active &&
                                        record?.session?.status != this.sessionStatusEnum.Finished
                                    },
                                    {
                                        label: 'Export',
                                        hasCondition: record?.session?.status === sessionStatusEnum.Finished
                                    },
                                    {
                                        label: 'Stop',
                                        hasCondition: record?.session?.status === sessionStatusEnum.Active
                                    },
                                    {
                                        label: 'Extend',
                                        hasCondition: record?.session?.status === sessionStatusEnum.Active
                                    }
                                ]"
                                (action)="doActions($event, record)"
                            ></app-action-button>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
            <div class="primeng-no-data" *ngIf="primengTableHelper.totalRecordsCount == 0">
                {{ l('NoData') }}
            </div>
            <p-paginator
                #paginator
                [rows]="primengTableHelper.defaultRecordsCountPerPage"
                (onPageChange)="getList($event)"
                [totalRecords]="primengTableHelper.totalRecordsCount"
                [rows]="primengTableHelper.defaultRecordsCountPerPage"
                [rowsPerPageOptions]="primengTableHelper.predefinedRecordsCountPerPage"
            ></p-paginator>
        </div>
        <!-- End Tabel -->
    </div>
</div>

<!-- Modals -->
<app-add-sessions-modal (OnRefresh)="getList()"></app-add-sessions-modal>
<app-exportByLevel></app-exportByLevel>
<app-extendTimeSession [sessionId]="sessionId" (extendTimeSession)="getList()"></app-extendTimeSession>
